<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Output Page</title>
    
    <style>
        body {
            margin: 0;
            width: 100%;
            height: 60%;
            font-family: "Exo", sans-serif;
            color: #fff;
            background: linear-gradient(19deg,  #ee7752, #e73c7e, #23a6d5, #23d5ab);
            background-size: 400% 400%;
        }

        .box {
            display: flex;
            align-items: center;
            justify-content: center;
            height: 100vh;
           
        }

        .video-container {
            width: 50%;
            height: 650px;
            background-color: black;
            /* border: 5px solid white; */
            margin: 10px;
            padding: 10px;
            /* border: 5px solid white; */
            border-radius: 9px;
        }

        .other-container {
            width: 20%;
            height: 200px;
            background-color: black;
            /* border: 5px solid white; */
            margin: 10px;
            padding: 10px;
            box-sizing: border-box; /* Include padding and border in the width/height */
            text-align: center; /* Center text horizontally */
            color: white; /* Set text color to white */
        }

        #video-stream {
            width: 100%;
            height: 650px;
        }

       .menu a {
    display: inline-block;
    margin: 0 10px;  /* Adjust the spacing between links */
    text-decoration: none;  /* Remove underline */
    padding: 5px 10px; /* Add padding for better clickable area */
     /* Set default background color */
    color: white; /* Set default text color */
    border-radius: 5px; /* Add rounded corners for better appearance */
    transition: background-color 0.3s ease; /* Smooth transition */
}

.menu a:hover {
    background-color: #f0f0f0; /* Change background color on hover */
    color: black;
}
        .back-button {
            display: inline-block;
            color: white;
            text-decoration: none;
            border-radius: 5px;
        }
 .about-link {
            color: white; /* Set the color to white */
            font-size: 18px;
        }
        div.sticky {
            position: sticky;
            top: 0;
            padding: 5px;
            background-color: black;
            border: 2px solid black;
            text-align: center;
        }
    </style>
</head>
<body>
    <div class="home-section">
        <div class="sticky">
            <h1>
                <strong>Human Detection System</strong>
                <br><br>
                <div class="menu">
                    <a href="#" onclick="history.back();" class="about-link" style="float: left;"><h2>< Back</h2></a>
<!--                    <a href="/output" class="about-link"><h3><center>Home Page</center></h3></a>-->
                    <a href="/about_us" class="about-link"><h3><center>Model Info</center></h3></a>
                    <a href="/red_table" class="about-link"><h3><center>Red Alert</center></h3></a>
                    <a href="/orange_table" class="about-link"><h3><center>Orange Alert</center></h3></a>
                    <a href="/logout" class="about-link" style="float: right;"><h2><center>Logout</center></h2></a>

                </div>
            </h1>
        </div>

        <div class="box">
            <div class="video-container">
                <img id="video-stream" src="{{ url_for('output_page', **form_data) }}" alt="Video Stream">
            </div>
            <div class="other-container">
                <br><br>
                <h2 id="red-alerts">Total Red Alerts:</h2>
                <h2 id="orange-alerts">Total Orange Alerts:</h2>
            </div>
            <script>
                // Function to update total counts dynamically
                function updateTotalCounts() {
                    var redAlertsElement = document.getElementById('red-alerts');
                    var orangeAlertsElement = document.getElementById('orange-alerts');

                    // Make a request to the server to get the total counts
                    fetch('/get_total_counts')
                        .then(response => response.json())
                        .then(data => {
                            redAlertsElement.innerText = 'Total Red Alerts: ' + data.total_red_alerts;
                            orangeAlertsElement.innerText = 'Total Orange Alerts: ' + data.total_orange_alerts;
                        })
                        .catch(error => console.error('Error:', error));
                }

                // Call the function initially and set an interval to update every 5 seconds
                updateTotalCounts();
                setInterval(updateTotalCounts, 5000); // Update every 5 seconds
            </script>
        </div>
    </div>
</body>
</html>
